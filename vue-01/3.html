<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <title>Vue ë°˜ì‘ì„±(ref, reactive) ì™„ì „ ì´í•´</title>

    <!-- Vue 3 CDN ë¶ˆëŸ¬ì˜¤ê¸° -->
    <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>

    <style>
      /* ê¸°ë³¸ ìŠ¤íƒ€ì¼ */
      body {
        font-family: Arial, sans-serif;
        line-height: 1.6;
        padding: 20px;
      }
      .box {
        border: 1px solid #ccc;
        padding: 12px;
        border-radius: 8px;
        background: #f7faff;
        margin: 20px 0;
      }
      h2 {
        margin-top: 40px;
      }
      pre {
        background: #2d2d2d;
        color: #ddd;
        padding: 15px;
        border-radius: 8px;
        overflow-x: auto;
      }
      button {
        padding: 8px 14px;
        font-size: 15px;
        border-radius: 6px;
        cursor: pointer;
        border: none;
        background: #2563eb;
        color: white;
      }
      button:hover {
        background: #1d4ed8;
      }
    </style>
  </head>

  <body>
    <h1>Vueì˜ ë°˜ì‘ì„±(Reactivity) â€” ref() & reactive()</h1>

    <p>
      VueëŠ” "ë°ì´í„°ê°€ ë°”ë€Œë©´ UIê°€ ìë™ìœ¼ë¡œ ì—…ë°ì´íŠ¸"ë˜ëŠ”
      <b>ë°˜ì‘ì„±(Reactivity)</b> ê¸°ëŠ¥ì„ ì œê³µí•©ë‹ˆë‹¤.<br />
      ì•„ë˜ì˜ ë‘ ì˜ˆì œë¥¼ ì‹¤í–‰í•´ë³´ë©´ <b>ref()</b>ì™€ <b>reactive()</b>ê°€ ì–´ë–¤
      ë°©ì‹ìœ¼ë¡œ ê°’ì„ ì¶”ì í•˜ëŠ”ì§€ ì‰½ê²Œ ì´í•´í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
    </p>

    <hr />

    <!-- ----------------------------------------
         1. ref() ì˜ˆì œ
         ---------------------------------------- -->
    <h2>1. ref() â€” ë‹¨ì¼ ê°’ì„ ê°ì‹¸ëŠ” ë°˜ì‘í˜• ë°•ìŠ¤</h2>

    <!-- ref() ì•±ì´ ì ìš©ë  ì˜ì—­ -->
    <div id="refApp" class="box">
      <h3>ğŸ“¦ ref() ì‹œê°í™”</h3>

      <!-- refê°€ ë‚´ë¶€ì ìœ¼ë¡œ ì–´ë–»ê²Œ ë³´ì´ëŠ”ì§€ ì„¤ëª… -->
      <pre>
count = ref(0)

ì‹¤ì œ ë‚´ë¶€ êµ¬ì¡°:
count = {
  value: 0   â† ì§„ì§œ ê°’ì€ ì—¬ê¸° ë“¤ì–´ìˆìŒ!
}
</pre
      >

      <!-- refëŠ” í…œí”Œë¦¿ ì•ˆì—ì„œëŠ” .value ì—†ì´ ìë™ìœ¼ë¡œ êº¼ë‚´ì„œ ë Œë”ë§ë¨ -->
      <p>í˜„ì¬ ê°’: <b>{{ count }}</b></p>

      <!-- ref ê°’ ì¦ê°€ -->
      <button @click="count++">+1 ì¦ê°€</button>
    </div>

    <hr />

    <!-- ----------------------------------------
         2. reactive() ì˜ˆì œ
         ---------------------------------------- -->
    <h2>2. reactive() â€” ê°ì²´ë¥¼ í†µì§¸ë¡œ ë°˜ì‘í˜•ìœ¼ë¡œ</h2>

    <!-- reactive() ì•±ì´ ì ìš©ë  ì˜ì—­ -->
    <div id="reactiveApp" class="box">
      <h3>ğŸ§° reactive() ì‹œê°í™”</h3>

      <!-- reactiveê°€ Proxy ê°ì²´ì„ì„ ì„¤ëª… -->
      <pre>
user = reactive({
  name: "Tom",
  age: 30
})

ë‚´ë¶€ êµ¬ì¡°:
Proxy ê°ì²´ë¡œ ê°ì‹¸ì ¸ì„œ ì†ì„± ë³€í™”ë¥¼ ìë™ ê°ì§€!
</pre
      >

      <!-- reactiveëŠ” .value ì—†ì´ ë°”ë¡œ ì†ì„± ì ‘ê·¼ -->
      <p>
        ì´ë¦„: <b>{{ user.name }}</b><br />
        ë‚˜ì´: <b>{{ user.age }}</b>
      </p>

      <!-- reactive ê°ì²´ ì†ì„± ë³€ê²½ -->
      <button @click="user.age++">ë‚˜ì´ +1</button>
      <button @click="user.name = 'Jane'">ì´ë¦„ ë³€ê²½ (Tom â†’ Jane)</button>
    </div>

    <hr />

    <!-- ìš”ì•½ ë°•ìŠ¤ -->
    <h2>3. ì •ë¦¬í•´ë³´ì</h2>

    <div class="box">
      <ul>
        <li><b>ref()</b> â†’ ìˆ«ìÂ·ë¬¸ì ê°™ì€ 'ë‹¨ì¼ ê°’'ì„ ê°ì‹¸ ë°˜ì‘í˜•ìœ¼ë¡œ ë§Œë“¦</li>
        <li><b>reactive()</b> â†’ ì—¬ëŸ¬ ì†ì„±ì„ ê°€ì§„ 'ê°ì²´ ì „ì²´ë¥¼' ë°˜ì‘í˜• ì²˜ë¦¬</li>
        <li>refëŠ” <code>.value</code> ì•ˆì— ì‹¤ì œ ê°’ì´ ì €ì¥ë¨</li>
        <li>reactiveëŠ” Proxyë¼ì„œ <code>user.name</code> ì²˜ëŸ¼ ë°”ë¡œ ì ‘ê·¼</li>
        <li>
          í…œí”Œë¦¿ì—ì„œëŠ” refë„ <code>.value</code> ì—†ì´ {{ count }}ë¡œ ì ‘ê·¼ ê°€ëŠ¥
        </li>
      </ul>
    </div>

    <!-- ----------------------------------------
         Vue ì½”ë“œ (refApp, reactiveApp ê°ê° ë”°ë¡œ mount)
         ---------------------------------------- -->
    <script>
      // #1 ref() ì˜ˆì œ
      // - ref(0) : "count" ê°’ì„ ë°˜ì‘í˜• ë³€ìˆ˜ë¡œ ë§Œë“¦
      const { createApp, ref, reactive } = Vue;

      createApp({
        setup() {
          const count = ref(0); // refëŠ” value ì†ì„± ì•ˆì— ì‹¤ì œ ê°’ì´ ë“¤ì–´ê°
          return { count }; // í…œí”Œë¦¿ì—ì„œ count ì‚¬ìš© ê°€ëŠ¥
        },
      }).mount("#refApp");

      // #2 reactive() ì˜ˆì œ
      // - ê°ì²´ ì „ì²´ë¥¼ Proxyë¡œ ê°ì‹¸ì„œ ì†ì„± ë³€í™”ë¥¼ ì¶”ì í•¨
      createApp({
        setup() {
          const user = reactive({
            name: "Tom",
            age: 30,
          });
          return { user }; // í…œí”Œë¦¿ì—ì„œ user.name ìœ¼ë¡œ ì ‘ê·¼ ê°€ëŠ¥
        },
      }).mount("#reactiveApp");
    </script>
  </body>
</html>
