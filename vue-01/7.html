<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <title>Vue ì¡°ê±´ë¶€ + ë¦¬ìŠ¤íŠ¸ ë Œë”ë§</title>
    <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
    <style>
      body {
        font-family: Arial, sans-serif;
        padding: 20px;
      }
      h1 {
        text-align: center;
      }
      .card {
        max-width: 500px;
        margin: 0 auto;
        padding: 20px;
        border-radius: 10px;
        border: 1px solid #ddd;
        background: #f8faff;
      }
      input {
        padding: 8px;
        font-size: 14px;
        width: 70%;
      }
      button {
        padding: 8px 10px;
        font-size: 14px;
        margin-left: 4px;
        cursor: pointer;
      }
      ul {
        padding-left: 20px;
      }
      li {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin: 4px 0;
      }
      .empty {
        color: #888;
        margin-top: 10px;
      }
      .count {
        margin-top: 10px;
        font-size: 14px;
        color: #555;
      }
    </style>
  </head>

  <body>
    <h1>í•  ì¼ ëª©ë¡ (v-if + v-for)</h1>

    <div id="app" class="card">
      <!-- ì…ë ¥ ì˜ì—­ -->
      <div>
        <input
          v-model="newTodo"
          placeholder="í•  ì¼ì„ ì…ë ¥í•˜ê³  ì¶”ê°€ ë²„íŠ¼ì„ ëˆŒëŸ¬ë³´ì„¸ìš”"
          @keyup.enter="addTodo"
        />
        <button @click="addTodo">ì¶”ê°€</button>
        <button @click="clearTodos">ì „ì²´ ì‚­ì œ</button>
      </div>

      <!-- ê°œìˆ˜ í‘œì‹œ -->
      <p class="count">ì´ í•  ì¼: {{ todos.length }}ê°œ</p>

      <!-- 1) í•  ì¼ì´ í•˜ë‚˜ë„ ì—†ì„ ë•Œ -->
      <p class="empty" v-if="todos.length === 0">
        í˜„ì¬ ë“±ë¡ëœ í•  ì¼ì´ ì—†ìŠµë‹ˆë‹¤. í•  ì¼ì„ ì¶”ê°€í•´ë³´ì„¸ìš” ğŸ™‚
      </p>

      <!-- 2) í•  ì¼ì´ í•˜ë‚˜ ì´ìƒ ìˆì„ ë•Œ -->
      <ul v-else>
        <!-- v-forë¡œ todos ë°°ì—´ì„ ë Œë”ë§ -->
        <li v-for="(todo, index) in todos" :key="index">
          <span>{{ index + 1 }}. {{ todo }}</span>
          <button @click="removeTodo(index)">ì‚­ì œ</button>
        </li>
      </ul>
    </div>

    <script>
      const { createApp, ref } = Vue;

      createApp({
        setup() {
          // í•  ì¼ ëª©ë¡ (ì²˜ìŒì—ëŠ” ë¹„ì–´ ìˆìŒ)
          const todos = ref([]);

          // ì…ë ¥ì°½ê³¼ ì—°ê²°ë  ref
          const newTodo = ref("");

          // í•  ì¼ ì¶”ê°€
          const addTodo = () => {
            const trimmed = newTodo.value.trim();
            if (trimmed === "") return; // ê³µë°±ì€ ë¬´ì‹œ
            todos.value.push(trimmed);
            newTodo.value = "";
          };

          // íŠ¹ì • ì¸ë±ìŠ¤ì˜ í•  ì¼ ì‚­ì œ
          const removeTodo = (index) => {
            todos.value.splice(index, 1);
          };

          // ì „ì²´ ì‚­ì œ
          const clearTodos = () => {
            todos.value = [];
          };

          return {
            todos,
            newTodo,
            addTodo,
            removeTodo,
            clearTodos,
          };
        },
      }).mount("#app");
    </script>
  </body>
</html>
